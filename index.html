<html><head><base href="https://everyone-who-prays-for.firebaseapp.com/"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>40 ×™××™ ×ª×¤×™×œ×” - ×›×œ ×”××ª×¤×œ×œ ×¢×œ ×—×‘×¨×• × ×¢× ×” ×ª×—×™×œ×”</title><script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script><link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Amatic+SC:wght@700&display=swap" rel="stylesheet"><style>
body {
    font-family: 'Heebo', sans-serif;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    color: #333;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    direction: rtl;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.container:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

h1 {
    font-family: 'Amatic SC', cursive;
    color: #1a237e;
    text-align: center;
    font-size: 3.5em;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

select, input, button {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 16px;
    transition: all 0.3s ease;
}

select:focus, input:focus {
    outline: none;
    border-color: #4caf50;
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
}

button {
    background-color: #4caf50;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
    font-weight: bold;
}

button:hover {
    background-color: #45a049;
    transform: scale(1.05);
}

#adminBtn {
    position: fixed;
    top: 10px;
    left: 10px;
    background-color: #1a237e;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
    opacity: 0.7;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#adminBtn:hover {
    opacity: 1;
    transform: scale(1.1);
}

#adminSection {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    margin-top: 20px;
}

#prayerText {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    margin-top: 20px;
    white-space: pre-wrap;
    font-size: 18px;
    line-height: 1.8;
    text-align: center;
}

#allPrayers {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    margin-top: 20px;
}

#prayerStatus {
    background-color: #e8f5e9;
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
    transition: all 0.3s ease;
}

#prayerStatus:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

#prayerStatus ul {
    list-style-type: none;
    padding: 0;
}

.prayed {
    color: #4caf50;
    font-weight: bold;
}

.not-prayed {
    color: #f44336;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.fade-in {
    animation: fadeIn 1s ease-out;
}

.slide-in {
    animation: slideIn 0.5s ease-out;
}

#dayCount {
    font-size: 24px;
    font-weight: bold;
    color: #1a237e;
    text-align: center;
    margin: 20px 0;
}

#dateDisplay {
    margin-top: 20px;
    text-align: center;
}

#prayerStats {
    background-color: #e8eaf6;
    border-radius: 8px;
    padding: 15px;
    margin-top: 20px;
    text-align: center;
}

#prayerStats p {
    margin: 5px 0;
}

#prayerStats span {
    font-weight: bold;
    color: #1a237e;
}

.emoji-rain {
    position: fixed;
    top: -10%;
    font-size: 20px;
    animation: emoji-fall 3s linear infinite;
}

@keyframes emoji-fall {
    to { transform: translateY(110vh); }
}

.prayer-item {
    background-color: #f1f8e9;
    border-radius: 8px;
    padding: 10px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
}

.prayer-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.checkbox-wrapper {
    display: inline-block;
    position: relative;
    padding-right: 35px;
    margin-bottom: 12px;
    cursor: pointer;
    font-size: 22px;
    user-select: none;
}

.checkbox-wrapper input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

.checkmark {
    position: absolute;
    top: 0;
    right: 0;
    height: 25px;
    width: 25px;
    background-color: #eee;
    border: 2px solid blue;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.checkbox-wrapper:hover input ~ .checkmark {
    background-color: #ccc;
    border: 2px solid red;
}

.checkbox-wrapper input:checked ~ .checkmark {
    background-color: #4CAF50;
}

.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}

.checkbox-wrapper input:checked ~ .checkmark:after {
    display: block;
}

.checkbox-wrapper .checkmark:after {
    left: 9px;
    top: 5px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    transform: rotate(45deg);
}

@keyframes checkmark-pop {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.checkbox-wrapper input:checked ~ .checkmark:after {
    animation: checkmark-pop 0.3s ease-out;
}
</style></head><body><div class="container fade-in">
    <a href="×”×ª×¨××•×ª.html" class="button">××¢×‘×¨ ×œ×“×£ ×”×ª×¨××•×ª</a>
    <h1>×›×œ ×”××ª×¤×œ×œ ×¢×œ ×—×‘×¨×• × ×¢× ×” ×ª×—×™×œ×”</h1><label for="name">×‘×—×¨ ××ª ×©××š:</label><select id="name"></select><p id="prayerRequest" class="slide-in"></p><p id="dayCount" class="slide-in">×™×•× 1 ××ª×•×š 40</p><div id="dateDisplay"><p>×ª××¨×™×š ×¢×‘×¨×™: <span id="hebrewDate"></span></p><p>×ª××¨×™×š ×œ×•×¢×–×™: <span id="gregorianDate"></span></p></div><label class="checkbox-wrapper">×¡××Ÿ ×× ×›×‘×¨ ×××¨×ª ××ª ×”×¤×¨×§<input type="checkbox" id="prayerDone"><span class="checkmark"></span></label><button id="submit">×©××•×¨</button><div id="prayerText" class="slide-in"></div><div id="allPrayers" class="slide-in"><h3>×›×œ ×‘×§×©×•×ª ×”×ª×¤×™×œ×”:</h3><ul id="prayerList"></ul></div><div id="prayerStatus" class="slide-in"><h3>×¡×˜×˜×•×¡ ×ª×¤×™×œ×”:</h3><ul id="prayerStatusList"></ul></div><div id="prayerStats" class="slide-in"><p>×™××™× ×©×¢×‘×¨×•: <span id="daysPassed"></span></p><p>×™××™× ×©× ×•×ª×¨×•: <span id="daysLeft"></span></p><p>××—×•×– ×”×©×œ××”: <span id="completionPercentage"></span></p><p>××¡×¤×¨ ×× ×©×™×: <span id="totalPeople"></span></p></div></div><button id="adminBtn">× ×™×”×•×œ</button><div id="adminSection" style="display:none;"><h2>× ×™×”×•×œ</h2><label for="startDate">×‘×—×¨ ×ª××¨×™×š ×”×ª×—×œ×”:</label><input type="date" id="startDate"><button id="setStartDate">×§×‘×¢ ×ª××¨×™×š ×”×ª×—×œ×”</button><label for="newName">×”×•×¡×£ ×©× ×œ×ª×¤×™×œ×”:</label><input type="text" id="newName"><label for="newPrayer">×”×•×¡×£ ×‘×§×©×ª ×ª×¤×™×œ×”:</label><input type="text" id="newPrayer"><label for="newEmoji">×”×•×¡×£ ××™××•×’'×™:</label><input type="text" id="newEmoji"><button id="addName">×”×•×¡×£</button><label for="setCurrentDay">×”×’×“×¨ ××ª ×”×™×•× ×”× ×•×›×—×™ (1-40):</label><input type="number" id="setCurrentDay" min="1" max="40"><button id="updateCurrentDay">×¢×“×›×Ÿ</button></div><script>
const firebaseConfig = {
    apiKey: "AIzaSyDwJfwmRD5ev12tCLFAPn07xdA8aYKWjsM",
    authDomain: "everyone-who-prays-for.firebaseapp.com",
    databaseURL: "https://everyone-who-prays-for-default-rtdb.firebaseio.com",
    projectId: "everyone-who-prays-for",
    storageBucket: "everyone-who-prays-for.appspot.com",
    messagingSenderId: "60325762396",
    appId: "1:60325762396:web:d0406af3dc9f321dea9d99",
    measurementId: "G-K74ST2R3XW"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let users = [
    {name: "×”×œ×œ ×‘×Ÿ ×—××“×”", prayer: "×”×¦×œ×—×” ×‘×œ×™××•×“×™×", emoji: "ğŸ“š"},
    {name: "× ×ª× ××œ ××™×ª××¨ ×‘×Ÿ ××™×¨×”", prayer: "×–×™×•×•×’ ×˜×•×‘ ×•××ª××™×", emoji: "ğŸ’"},
    {name: "× ×—×•× ×–××‘ ×‘×Ÿ ××¨×™×", prayer: "×”×¦×œ×—×” ×‘×œ×™××•×“×™×", emoji: "ğŸ“š"},
    {name: "××¨×™××œ ×‘×Ÿ ×¡×™×’×œ×™×ª", prayer: "×–×™×•×•×’ ×˜×•×‘ ×•××ª××™×", emoji: "ğŸ’"},
    {name: "×©×™ ×‘×Ÿ ×©×™×¨×”", prayer: "×–×™×•×•×’ ×˜×•×‘ ×•××ª××™×", emoji: "ğŸ’"},
    {name: "××©×” ×‘×Ÿ ×¨Öµ× Ö¸×”", prayer: "×œ×”×ª×¤×œ×œ ×‘×× ×™×™×Ÿ × ×¥ ×‘×§×‘×™×¢×•×ª", emoji: "ğŸŒ…"},
    {name: "×¨×•× ×Ÿ ×‘×Ÿ ××™×¨×”", prayer: "×¤×¨× ×¡×” ×‘×©×¤×¢ ×‘×§×œ×•×ª ×•×‘×©××—×”", emoji: "ğŸ’µ"},
    {name: "× ×•×¢× ×™×©×©×›×¨ ×‘×Ÿ ×©×•×œ××™×ª", prayer: "×–×™×•×•×’ ×˜×•×‘ ×•××ª××™×", emoji: "ğŸ’"},
    {name: "×—×’×™ ×©××¢×•×Ÿ ×‘×Ÿ ×©×¨×™×ª", prayer: "×‘×¨×™××•×ª ××™×ª× ×”", emoji: "ğŸ’ª"},
    {name: "×× ×—× ×‘×Ÿ ××¡×ª×¨", prayer: "×¡\"×“ ×§× ×™×™×ª ×“×™×¨×”", emoji: "ğŸ "},
    {name: "××™×ª××¨ ×‘×Ÿ × ×•×¨×™×ª", prayer: "×”×¦×œ×—×” ×‘×›×œ", emoji: "ğŸ“"},
    {name: "×“×•×“ ×‘× ×™× ×‘×Ÿ ×™×¢×œ ×¢×§×", prayer: "×¨×¤×•××” ×©×œ×™××” ×•×‘×¨×™××•×ª", emoji: "â¤ï¸â€ğŸ©¹"}
];

const nameSelect = document.getElementById('name');
const prayerRequest = document.getElementById('prayerRequest');

users.forEach(user => {
    let option = document.createElement('option');
    option.value = user.name;
    option.text = user.name; 
    nameSelect.add(option);
});

nameSelect.addEventListener('change', () => {
    const selectedUser = users.find(user => user.name === nameSelect.value);
    if (selectedUser) {
        prayerRequest.textContent = `×‘×§×©×ª ×ª×¤×™×œ×”: ${selectedUser.prayer} ${selectedUser.emoji}`;
        prayerRequest.classList.remove('slide-in');
        void prayerRequest.offsetWidth;
        prayerRequest.classList.add('slide-in');
        localStorage.setItem('selectedName', nameSelect.value);
    }
});

window.addEventListener('load', () => {
    const savedName = localStorage.getItem('selectedName');
    if (savedName) {
        nameSelect.value = savedName;
        nameSelect.dispatchEvent(new Event('change'));
    }
    updateDayCount();
    updateDates();
});

document.getElementById('submit').addEventListener('click', () => {
    const selectedName = nameSelect.value;
    const day = currentDay;
    const prayerDone = document.getElementById('prayerDone').checked;

    db.ref('prayers/' + selectedName + '/day' + day).set({
        prayerDone: prayerDone,
        timestamp: firebase.database.ServerValue.TIMESTAMP
    }).then(() => {
        alert('×”× ×ª×•× ×™× × ×©××¨×• ×‘×”×¦×œ×—×”!');
        updatePrayerStatus();
    }).catch((error) => {
        console.error('×©×’×™××” ×‘×›×ª×™×‘×” ×œ××¡×“ ×”× ×ª×•× ×™×: ', error);
    });
});

document.getElementById('adminBtn').addEventListener('click', () => {
    const adminPassword = prompt("×”×›× ×¡ ×¡×™×¡××ª ×× ×”×œ");
    if (adminPassword === "×–××‘×™") {
        document.getElementById('adminSection').style.display = 'block';
    } else {
        alert("×¡×™×¡××” ×©×’×•×™×”");
    }
});

document.getElementById('addName').addEventListener('click', () => {
    const newName = document.getElementById('newName').value;
    const newPrayer = document.getElementById('newPrayer').value;
    const newEmoji = document.getElementById('newEmoji').value;

    if (newName && newPrayer && newEmoji) {
        users.push({
            name: newName,
            prayer: newPrayer,
            emoji: newEmoji
        });

        let option = document.createElement('option');
        option.value = newName;
        option.text = newName; 
        nameSelect.add(option);

        alert('×©×, ×‘×§×©×” ×•××™××•×’\'×™ × ×•×¡×¤×• ×‘×”×¦×œ×—×”!');
        displayAllPrayers();
    } else {
        alert('× × ×œ××œ× ××ª ×›×œ ×”×©×“×•×ª');
    }
});

const prayerText = `×Ö´×–Ö°××•Ö¹×¨ ×œÖ°×ª×•Ö¹×“Ö¸×”: ×”Ö¸×¨Ö´×™×¢×•Ö¼ ×œÖ·×™×”×•Ö¸×” ×›Ö¸Ö¼×œ ×”Ö¸×Ö¸×¨Ö¶×¥.
×¢Ö´×‘Ö°×“×•Ö¼ ×Ö¶×ª ×™Ö°×”×•Ö¸×” ×‘Ö°Ö¼×©Ö´×‚×Ö°×—Ö¸×” ×‘Ö¹Ö¼××•Ö¼ ×œÖ°×¤Ö¸× Ö¸×™×• ×‘Ö´Ö¼×¨Ö°× Ö¸× Ö¸×”.
×“Ö°Ö¼×¢×•Ö¼ ×›Ö´Ö¼×™ ×™Ö°×”×•Ö¸×” ×”×•Ö¼× ×Ö±×œÖ¹×”Ö´×™× ×”×•Ö¼× ×¢Ö¸×©Ö¸×‚× ×•Ö¼ ×•Ö°×œ×•Ö¹ ×Ö²× Ö·×—Ö°× ×•Ö¼ ×¢Ö·×Ö¼×•Ö¹ ×•Ö°×¦Ö¹××Ÿ ×Ö·×¨Ö°×¢Ö´×™×ª×•Ö¹.
×‘Ö¹Ö¼××•Ö¼ ×©Ö°××¢Ö¸×¨Ö¸×™×• ×‘Ö°Ö¼×ª×•Ö¹×“Ö¸×” ×—Ö²×¦Öµ×¨Ö¹×ªÖ¸×™×• ×‘Ö´Ö¼×ªÖ°×”Ö´×œÖ¸Ö¼×” ×”×•Ö¹×“×•Ö¼ ×œ×•Ö¹ ×‘Ö¸Ö¼×¨Ö²×›×•Ö¼ ×©Ö°×××•Ö¹.
×›Ö´Ö¼×™ ×˜×•Ö¹×‘ ×™Ö°×”×•Ö¸×” ×œÖ°×¢×•Ö¹×œÖ¸× ×—Ö·×¡Ö°×“Ö¼×•Ö¹ ×•Ö°×¢Ö·×“ ×“Ö¹Ö¼×¨ ×•Ö¸×“Ö¹×¨ ×Ö±××•Ö¼× Ö¸×ª×•Ö¹.`;

document.getElementById('prayerText').textContent = prayerText;

function updatePrayerStatus() {
    const statusList = document.getElementById('prayerStatusList');
    statusList.innerHTML = '';

    users.forEach(user => {
        db.ref('prayers/' + user.name + '/day' + currentDay).once('value').then((snapshot) => {
            const li = document.createElement('li');
            const prayerDone = snapshot.val() && snapshot.val().prayerDone;
            li.textContent = `${user.name} ${user.emoji}: ${prayerDone ? '×”×ª×¤×œ×œ' : '×˜×¨× ×”×ª×¤×œ×œ'}`;
            li.className = prayerDone ? 'prayed' : 'not-prayed';
            statusList.appendChild(li);
        });
    });
}

function displayAllPrayers() {
    const prayerList = document.getElementById('prayerList');
    prayerList.innerHTML = '';
    users.forEach(user => {
        const li = document.createElement('li');
        li.className = 'prayer-item';
        li.innerHTML = `<strong>${user.name}</strong>: ${user.prayer}`;
        prayerList.appendChild(li);
    });
}

let currentDay = 1;

function updateDayCount() {
    db.ref('prayerStartDate').once('value').then((snapshot) => {
        const startDate = new Date(snapshot.val());
        const today = new Date();
        const daysPassed = Math.floor((today - startDate) / (1000 * 60 * 60 * 24)) + 1;
        currentDay = Math.min(Math.max(daysPassed, 1), 40);
        document.getElementById('dayCount').textContent = `×™×•× ${currentDay} ××ª×•×š 40`;
        updatePrayerStats();
    });
}

document.getElementById('setStartDate').addEventListener('click', setStartDate);

function setStartDate() {
    const startDate = document.getElementById('startDate').value;
    if (startDate) {
        db.ref('prayerStartDate').set(startDate).then(() => {
            updateDayCount();
            alert('×ª××¨×™×š ×”×”×ª×—×œ×” × ×§×‘×¢ ×‘×”×¦×œ×—×”!');
        }).catch((error) => {
            console.error('×©×’×™××” ×‘×©××™×¨×ª ×ª××¨×™×š ×”×”×ª×—×œ×”: ', error);
        });
    } else {
        alert('×× × ×‘×—×¨ ×ª××¨×™×š ×ª×—×™×œ×”');
    }
}

document.getElementById('updateCurrentDay').addEventListener('click', () => {
    const newDay = document.getElementById('setCurrentDay').value;
    if (newDay && newDay >= 1 && newDay <= 40) {
        db.ref('currentDay').set(parseInt(newDay)).then(() => {
            currentDay = parseInt(newDay);
            updateDayCount();
            alert('×”×™×•× ×”× ×•×›×—×™ ×¢×•×“×›×Ÿ ×‘×”×¦×œ×—×”!');
        }).catch((error) => {
            console.error('×©×’×™××” ×‘×¢×“×›×•×Ÿ ×”×™×•× ×”× ×•×›×—×™: ', error);
        });
    } else {
        alert('×× × ×”×›× ×¡ ××¡×¤×¨ ×ª×§×™×Ÿ ×‘×™×Ÿ 1 ×œ-40');
    }
});

function updatePrayerStats() {
    const daysLeft = Math.max(40 - currentDay, 0);
    const completionPercentage = Math.round((currentDay / 40) * 100);
    const totalPeople = users.length;

    document.getElementById('daysPassed').textContent = currentDay;
    document.getElementById('daysLeft').textContent = daysLeft;
    document.getElementById('completionPercentage').textContent = `${completionPercentage}%`;
    document.getElementById('totalPeople').textContent = totalPeople;
}

function getHebrewDate() {
    const now = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric', calendar: 'hebrew' };
    return new Intl.DateTimeFormat('he-IL', options).format(now);
}

function getGregorianDate() {
    const now = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Intl.DateTimeFormat('he-IL', options).format(now);
}

function updateDates() {
    document.getElementById('hebrewDate').textContent = getHebrewDate();
    document.getElementById('gregorianDate').textContent = getGregorianDate();
}

updatePrayerStatus();
displayAllPrayers();
</script></body></html>
